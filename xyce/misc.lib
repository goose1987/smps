* miscellaneous helper models and tools

* pwm circuit with interlocking to prevent shoot through.
* BE CAREFUL OF MINIMUM PULSE WIDTH, NEED TO ADD BLANKING TO ENSURE MINIMUM PULSE WIDTH
.subckt PWMinterlock VCC VEE INPUT HSFLOAT OUTBOOT OUTLS
* C:\Users\hpham\Documents\scratch\interlock_drive.asc
UINV1 INV VCC VEE OUTLS OUTNN INVDELAY
UINV2 INV VCC VEE OUTHS OUTPN INVDELAY
UINV3 INV VCC VEE INPUT INN DMOD
UAND4 AND(2) VCC VEE OUTPN INN OUTLS DMOD
UAND5 AND(2) VCC VEE INPUT OUTNN OUTHS DMOD
*floating output for high side drive
EBOOT1 HSFLOAT OUTBOOT OUTHS VEE 1
*UBUF6 BUF VCC 0 INPUT INN DMOD
*R1 OUTHS 0 10k
*R2 OUTLS 0 10k


.model DMOD DIG(
+ CLO=1e-12 CHI=1e-12
+ S0RLO=5 S0RHI=10e3 S0TSW=5e-9
+ S0VLO=0 S0VHI=1.8
+ S1RLO=10e3 S1RHI=5 S1TSW=5e-9
+ S1VLO=4 S1VHI=5
+ RLOAD=1000
+ CLOAD=1e-12
+ DELAY=20ns
+)
.model INVDELAY DIG(
+ CLO=1e-12 CHI=1e-12
+ S0RLO=5 S0RHI=10e3 S0TSW=5e-9
+ S0VLO=0 S0VHI=1.8
+ S1RLO=10e3 S1RHI=5 S1TSW=5e-9
+ S1VLO=4 S1VHI=5
+ RLOAD=1000
+ CLOAD=1e-12
+ DELAY=60ns
+)

.ends
